<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Library Book Management</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
  </head>
  <body class="bg-gray-100">
    <div class="container mx-auto p-4">
      <!-- Page Title -->
      <h1 class="text-3xl font-bold text-center mb-8">
        Library Book Management
      </h1>

      <div class="overflow-x-auto">
        <table class="table-auto w-full border-collapse border border-gray-300">
          <thead>
            <tr class="bg-gray-200">
              <th class="border border-gray-300 px-4 py-2">Title</th>
              <th class="border border-gray-300 px-4 py-2">Author</th>
              <th class="border border-gray-300 px-4 py-2">Genre</th>
              <th class="border border-gray-300 px-4 py-2">Status</th>
              <th class="border border-gray-300 px-4 py-2">Condition</th>
              <th class="border border-gray-300 px-4 py-2">Description</th>
              <th class="border border-gray-300 px-4 py-2">Date Added</th>
              <th class="border border-gray-300 px-4 py-2">Action</th>
            </tr>
          </thead>
          <tbody>
            <% books.map((book)=>{ %>
            <tr class="text-center hover:bg-gray-100">
              <td class="border border-gray-300 px-4 py-2">
                <%= book.title %>
              </td>
              <td class="border border-gray-300 px-4 py-2">
                <%= book.author %>
              </td>
              <td class="border border-gray-300 px-4 py-2">
                <%= book.genre %>
              </td>
              <td class="border border-gray-300 px-4 py-2">
                <span
                  class="px-2 py-1 rounded-full text-sm <%= book.status === 'Available' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800' %>"
                  ><%= book.status %></span
                >
              </td>
              <td class="border border-gray-300 px-4 py-2">
                <span
                  class="px-2 py-1 rounded-full text-sm <%= book.condition === 'New' ? 'bg-green-100 text-green-800' : book.condition === 'Good' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800' %>"
                  ><%= book.condition %></span
                >
              </td>
              <td class="border border-gray-300 px-4 py-2">
                <%= book.description %>
              </td>
              <td class="border border-gray-300 px-4 py-2">
                <%= new Date(book.dateAdded).toLocaleString() %>
              </td>
              <td class="border border-gray-300">
                <a href="/edit/<%= book.id %>"
                  ><button class="cursor-pointer">Edit</button></a
                >
                <a href="/delete/<%= book.id %>"
                  ><button class="cursor-pointer">Delete</button></a
                >
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>

      <!-- Add Book Button -->
      <div class="fixed bottom-8 right-8">
        <a
          href="/add-book"
          class="bg-green-500 text-white px-6 py-3 rounded-full shadow-lg hover:bg-green-600 transition-colors"
        >
          + Add Book
        </a>
      </div>
    </div>
  </body>
</html>
